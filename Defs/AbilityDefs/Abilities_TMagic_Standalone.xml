<?xml version="1.0" encoding="utf-8" ?>

<Defs>

<ThingDef Class="AbilityUser.ProjectileDef_Ability" ParentName="BaseBullet">
   <thingClass>AbilityUser.Projectile_Ability</thingClass>
   <defName>Projectile_TM_SpawnThing</defName>
   <label>spawn magical item</label>
   <graphicData>
		<texPath>Spells/invis</texPath>
		<graphicClass>Graphic_Single</graphicClass>
		<shaderType>TransparentPostLight</shaderType>
	</graphicData>
   <projectile>
		<flyOverhead>false</flyOverhead>
		<damageDef>Burn</damageDef>
		<damageAmountBase>0</damageAmountBase>
		<speed>1000</speed>
   </projectile>   
 </ThingDef>
 
<!--  Heater -->

 <TorannMagic.TMAbilityDef ParentName="BaseMagicAbility">
    <defName>TM_Heater</defName>
    <label>Magical heater</label>
    <uiIconPath>UI/heater</uiIconPath>
    <description>Creates a dimensional pocket that taps into the Plane of Fire, generating constant heat in a confined area. The energy holding this pocket open will disperse after several days.</description>
    <manaCost>0.25</manaCost>
	<MainVerb Class="AbilityUser.VerbProperties_Ability">
        <verbClass>TorannMagic.Verb_SB</verbClass>
			<tooltipShowProjectileDamage>false</tooltipShowProjectileDamage>
			<tooltipShowExtraDamages>false</tooltipShowExtraDamages>
			<tooltipShowHediffsToApply>false</tooltipShowHediffsToApply>
			<tooltipShowMentalStatesToApply>false</tooltipShowMentalStatesToApply>
        <hasStandardCommand>true</hasStandardCommand>
        <defaultProjectile>Projectile_TM_SpawnThing</defaultProjectile>
		<abilityDef>TM_Heater</abilityDef>
        <warmupTime>5</warmupTime>
        <SecondsToRecharge>60</SecondsToRecharge>
		<burstShotCount>1</burstShotCount>
        <range>20</range>
		<isViolent>false</isViolent>
        <soundCast>ThrowGrenade</soundCast>
        <muzzleFlashScale>20</muzzleFlashScale>
		<AlwaysHits>true</AlwaysHits>
         <isPrimary>false</isPrimary>
		 <targetParams>
      	 <canTargetPawns>false</canTargetPawns>
      	 <canTargetBuildings>false</canTargetBuildings>
      	 <canTargetSelf>false</canTargetSelf>
		 <canTargetLocations>true</canTargetLocations>
        </targetParams>
		<thingsToSpawn>
		  <li>
		    <def>TM_Heater</def>
			<spawnCount>1</spawnCount>
			<kindDef>Colonist</kindDef>
		  </li>
		</thingsToSpawn>		
    </MainVerb>
 </TorannMagic.TMAbilityDef>
 
 <!--  Cooler -->
 
  <TorannMagic.TMAbilityDef ParentName="BaseMagicAbility">
    <defName>TM_Cooler</defName>
    <label>Magical cooler</label>
    <uiIconPath>Other/cooler</uiIconPath>
    <description>Creates a dimensional pocket that taps into the Plane of Ice, reducing heat in a confined area. The energy holding this pocket open will disperse after several days.</description>
    <manaCost>0.25</manaCost>
	<MainVerb Class="AbilityUser.VerbProperties_Ability">
        <verbClass>TorannMagic.Verb_SB</verbClass>
			<tooltipShowProjectileDamage>false</tooltipShowProjectileDamage>
			<tooltipShowExtraDamages>false</tooltipShowExtraDamages>
			<tooltipShowHediffsToApply>false</tooltipShowHediffsToApply>
			<tooltipShowMentalStatesToApply>false</tooltipShowMentalStatesToApply>
        <hasStandardCommand>true</hasStandardCommand>
        <defaultProjectile>Projectile_TM_SpawnThing</defaultProjectile>
		<abilityDef>TM_Cooler</abilityDef>
        <warmupTime>5</warmupTime>
        <SecondsToRecharge>60</SecondsToRecharge>
		<burstShotCount>1</burstShotCount>
        <range>20</range>
		<isViolent>false</isViolent>
        <soundCast>ThrowGrenade</soundCast>
        <muzzleFlashScale>20</muzzleFlashScale>
		<AlwaysHits>true</AlwaysHits>
         <isPrimary>false</isPrimary>
		 <targetParams>
      	 <canTargetPawns>false</canTargetPawns>
      	 <canTargetBuildings>false</canTargetBuildings>
      	 <canTargetSelf>false</canTargetSelf>
		 <canTargetLocations>true</canTargetLocations>
        </targetParams>
		<thingsToSpawn>
		  <li>
		    <def>TM_Cooler</def>
			<spawnCount>1</spawnCount>
			<kindDef>Colonist</kindDef>
		  </li>
		</thingsToSpawn>
    </MainVerb>
 </TorannMagic.TMAbilityDef>
 
  <!--  Power Node --> 
 
  <TorannMagic.TMAbilityDef ParentName="BaseMagicAbility">
    <defName>TM_PowerNode</defName>
    <label>Arcane Power Node</label>
    <uiIconPath>Other/energynode_1</uiIconPath>
    <description>Creates an energy node that slowly releases arcane energy in the form of electricity. Can be used as a power source.</description>
    <manaCost>0.25</manaCost>
	<MainVerb Class="AbilityUser.VerbProperties_Ability">
        <verbClass>TorannMagic.Verb_SB</verbClass>
			<tooltipShowProjectileDamage>false</tooltipShowProjectileDamage>
			<tooltipShowExtraDamages>false</tooltipShowExtraDamages>
			<tooltipShowHediffsToApply>false</tooltipShowHediffsToApply>
			<tooltipShowMentalStatesToApply>false</tooltipShowMentalStatesToApply>
        <hasStandardCommand>true</hasStandardCommand>
        <defaultProjectile>Projectile_TM_SpawnThing</defaultProjectile>
		<abilityDef>TM_PowerNode</abilityDef>
        <warmupTime>5</warmupTime>
        <SecondsToRecharge>60</SecondsToRecharge>
		<burstShotCount>1</burstShotCount>
        <range>20</range>
		<isViolent>false</isViolent>
        <soundCast>ThrowGrenade</soundCast>
        <muzzleFlashScale>20</muzzleFlashScale>
		<AlwaysHits>true</AlwaysHits>
         <isPrimary>false</isPrimary>
		 <targetParams>
      	 <canTargetPawns>false</canTargetPawns>
      	 <canTargetBuildings>false</canTargetBuildings>
      	 <canTargetSelf>false</canTargetSelf>
		 <canTargetLocations>true</canTargetLocations>
        </targetParams>
		<thingsToSpawn>
		  <li>
		    <def>TM_PowerNode</def>
			<spawnCount>1</spawnCount>
			<kindDef>Colonist</kindDef>
		  </li>
		</thingsToSpawn>
    </MainVerb>
 </TorannMagic.TMAbilityDef>
 
 
<!--  Light Node -->

<ThingDef Class="AbilityUser.ProjectileDef_Ability" ParentName="BaseBullet">
   <thingClass>TorannMagic.Projectile_Sunlight</thingClass>
   <defName>Projectile_Sunlight</defName>
   <label>spawn magic light</label>
   <graphicData>
		<texPath>Spells/invis</texPath>
		<graphicClass>Graphic_Single</graphicClass>
		<shaderType>TransparentPostLight</shaderType>
	</graphicData>
   <projectile>
		<flyOverhead>false</flyOverhead>
		<damageDef>Burn</damageDef>
		<damageAmountBase>0</damageAmountBase>
		<speed>1000</speed>
		<explosionRadius>14</explosionRadius>
		<postExplosionSpawnChance>1</postExplosionSpawnChance>
   </projectile>   
 </ThingDef>
 
 <TorannMagic.TMAbilityDef ParentName="BaseMagicAbility">
    <defName>TM_Sunlight</defName>
    <label>Sun Light</label>
    <uiIconPath>UI/sunlight</uiIconPath>	
    <description>Creates a beacon of sunlight strong enough to grow plants. The beacon must be sustained by the mage - reduces max mana and mana regeneration by 40% while active.</description>
    <manaCost>0.40</manaCost>
	<MainVerb Class="AbilityUser.VerbProperties_Ability">
        <verbClass>TorannMagic.Verb_SB</verbClass>
			<tooltipShowProjectileDamage>false</tooltipShowProjectileDamage>
			<tooltipShowExtraDamages>false</tooltipShowExtraDamages>
			<tooltipShowHediffsToApply>false</tooltipShowHediffsToApply>
			<tooltipShowMentalStatesToApply>false</tooltipShowMentalStatesToApply>
        <hasStandardCommand>true</hasStandardCommand>
        <defaultProjectile>Projectile_Sunlight</defaultProjectile>
		<abilityDef>TM_Sunlight</abilityDef>
        <warmupTime>5</warmupTime>
        <SecondsToRecharge>60</SecondsToRecharge>
		<burstShotCount>1</burstShotCount>
        <range>20</range>
		<isViolent>false</isViolent>
        <soundCast>ThrowGrenade</soundCast>
        <muzzleFlashScale>20</muzzleFlashScale>
		<AlwaysHits>true</AlwaysHits>
         <isPrimary>false</isPrimary>
		 <targetParams>
      	 <canTargetPawns>false</canTargetPawns>
      	 <canTargetBuildings>false</canTargetBuildings>
      	 <canTargetSelf>false</canTargetSelf>
		 <canTargetLocations>true</canTargetLocations>
        </targetParams>		
    </MainVerb>
 </TorannMagic.TMAbilityDef>
 
    <TorannMagic.TMAbilityDef ParentName="BaseMagicAbility">
    <defName>TM_DismissSunlight</defName>
    <label>Dismiss Sun Light</label>
    <uiIconPath>UI/dismisssunlight</uiIconPath>
    <description>Dismisses a Sun Light</description>
    <manaCost>0.0</manaCost>
	<MainVerb Class="AbilityUser.VerbProperties_Ability">
        <verbClass>TorannMagic.Verb_DismissSunlight</verbClass>
			<tooltipShowProjectileDamage>false</tooltipShowProjectileDamage>
			<tooltipShowExtraDamages>false</tooltipShowExtraDamages>
			<tooltipShowHediffsToApply>false</tooltipShowHediffsToApply>
			<tooltipShowMentalStatesToApply>false</tooltipShowMentalStatesToApply>
        <hasStandardCommand>true</hasStandardCommand>
        <defaultProjectile>TM_Paladin_Heal</defaultProjectile>
		<abilityDef>TM_DismissSunlight</abilityDef>
        <warmupTime>1</warmupTime>
        <SecondsToRecharge>4</SecondsToRecharge>
		<burstShotCount>1</burstShotCount>
        <range>0</range>
		<isViolent>false</isViolent>
        <soundCast>Message_PositiveEvent</soundCast>
        <muzzleFlashScale>20</muzzleFlashScale>
		<AlwaysHits>true</AlwaysHits>
        <isPrimary>false</isPrimary>
		<AbilityTargetCategory>TargetSelf</AbilityTargetCategory>
		<targetParams>
      	 <canTargetPawns>true</canTargetPawns>
      	 <canTargetBuildings>false</canTargetBuildings>
      	 <canTargetSelf>true</canTargetSelf>
		 <canTargetLocations>false</canTargetLocations>
        </targetParams>
    </MainVerb>
 </TorannMagic.TMAbilityDef>
 
 <!--  Remove Moisture  -->
 <ThingDef ParentName="BaseBullet" Class="AbilityUser.ProjectileDef_Ability">
		<thingClass>TorannMagic.Projectile_DryGround</thingClass>
	    <defName>Projectile_DryGround</defName>
        <label>dry ground</label>
        <graphicData>
			<texPath>Spells/invis</texPath>
			<graphicClass>Graphic_Single</graphicClass>
			<shaderType>TransparentPostLight</shaderType>
        </graphicData>
        <projectile>
            <damageDef>Bomb</damageDef>
            <damageAmountBase>0</damageAmountBase>
            <speed>200</speed>
			<explosionRadius>1.5</explosionRadius>
			<postExplosionSpawnChance>0</postExplosionSpawnChance>
        </projectile>
    </ThingDef>
 
 <TorannMagic.TMAbilityDef ParentName="BaseMagicAbility">
    <defName>TM_DryGround</defName>
    <label>Dry Ground</label>
    <uiIconPath>UI/dryground</uiIconPath>
    <description>Infuses the ground with heat, evaporating most of the moisture from a patch of ground. Only works on muddy ground.</description>
    <manaCost>0.60</manaCost>
	<MainVerb Class="AbilityUser.VerbProperties_Ability">
        <verbClass>TorannMagic.Verb_BLOS</verbClass>
			<tooltipShowProjectileDamage>false</tooltipShowProjectileDamage>
			<tooltipShowExtraDamages>false</tooltipShowExtraDamages>
			<tooltipShowHediffsToApply>false</tooltipShowHediffsToApply>
			<tooltipShowMentalStatesToApply>false</tooltipShowMentalStatesToApply>
        <hasStandardCommand>true</hasStandardCommand>
        <defaultProjectile>Projectile_DryGround</defaultProjectile>
		<abilityDef>TM_DryGround</abilityDef>
        <warmupTime>1.5</warmupTime>
        <SecondsToRecharge>1.5</SecondsToRecharge>
		<burstShotCount>1</burstShotCount>
        <range>12</range>
		<isViolent>false</isViolent>
        <soundCast>ThrowGrenade</soundCast>
        <muzzleFlashScale>20</muzzleFlashScale>
		<AlwaysHits>true</AlwaysHits>
         <isPrimary>false</isPrimary>
		 <targetParams>
      	 <canTargetPawns>false</canTargetPawns>
      	 <canTargetBuildings>false</canTargetBuildings>
      	 <canTargetSelf>false</canTargetSelf>
		 <canTargetLocations>true</canTargetLocations>
        </targetParams>
    </MainVerb>
 </TorannMagic.TMAbilityDef>
 
  <!--  Add Moisture  -->
 <ThingDef ParentName="BaseBullet" Class="AbilityUser.ProjectileDef_Ability">
		<thingClass>TorannMagic.Projectile_WetGround</thingClass>
	    <defName>Projectile_WetGround</defName>
        <label>moisturize ground</label>
        <graphicData>
			<texPath>Spells/invis</texPath>
			<graphicClass>Graphic_Single</graphicClass>
			<shaderType>TransparentPostLight</shaderType>
        </graphicData>
        <projectile>
            <damageDef>Bomb</damageDef>
            <damageAmountBase>0</damageAmountBase>
            <speed>200</speed>
			<explosionRadius>1.5</explosionRadius>
			<postExplosionSpawnChance>0</postExplosionSpawnChance>
        </projectile>
    </ThingDef>
 
 <TorannMagic.TMAbilityDef ParentName="BaseMagicAbility">
    <defName>TM_WetGround</defName>
    <label>Moisturize Ground</label>
    <uiIconPath>UI/wetground</uiIconPath>
    <description>Infuses sand with water, creating usable soil.</description>
    <manaCost>0.60</manaCost>
	<MainVerb Class="AbilityUser.VerbProperties_Ability">
        <verbClass>TorannMagic.Verb_BLOS</verbClass>
			<tooltipShowProjectileDamage>false</tooltipShowProjectileDamage>
			<tooltipShowExtraDamages>false</tooltipShowExtraDamages>
			<tooltipShowHediffsToApply>false</tooltipShowHediffsToApply>
			<tooltipShowMentalStatesToApply>false</tooltipShowMentalStatesToApply>
        <hasStandardCommand>true</hasStandardCommand>
        <defaultProjectile>Projectile_WetGround</defaultProjectile>
		<abilityDef>TM_WetGround</abilityDef>
        <warmupTime>1.5</warmupTime>
        <SecondsToRecharge>1.5</SecondsToRecharge>
		<burstShotCount>1</burstShotCount>
        <range>12</range>
		<isViolent>false</isViolent>
        <soundCast>ThrowGrenade</soundCast>
        <muzzleFlashScale>20</muzzleFlashScale>
		<AlwaysHits>true</AlwaysHits>
         <isPrimary>false</isPrimary>
		 <targetParams>
      	 <canTargetPawns>false</canTargetPawns>
      	 <canTargetBuildings>false</canTargetBuildings>
      	 <canTargetSelf>false</canTargetSelf>
		 <canTargetLocations>true</canTargetLocations>
        </targetParams>
    </MainVerb>
 </TorannMagic.TMAbilityDef>
 
  <!--  Charge Battery  -->
 <ThingDef ParentName="BaseBullet" Class="AbilityUser.ProjectileDef_Ability">
		<thingClass>TorannMagic.Projectile_ChargeBattery</thingClass>
	    <defName>Projectile_ChargeBattery</defName>
        <label>charge battery</label>
        <graphicData>
			<texPath>Spells/invis</texPath>
			<graphicClass>Graphic_Single</graphicClass>
			<shaderType>TransparentPostLight</shaderType>
        </graphicData>
        <projectile>
            <damageDef>Bomb</damageDef>
            <damageAmountBase>0</damageAmountBase>
            <speed>200</speed>
        </projectile>
    </ThingDef>
 
 <TorannMagic.TMAbilityDef ParentName="BaseMagicAbility">
    <defName>TM_ChargeBattery</defName>
    <label>Charge Battery</label>
    <uiIconPath>UI/chargebattery</uiIconPath>
    <description>Converts raw magic power into electrical energy. This spell can only be used on batteries. Generates 400Wd.</description>
    <manaCost>0.10</manaCost>
	<MainVerb Class="AbilityUser.VerbProperties_Ability">
        <verbClass>TorannMagic.Verb_SB</verbClass>
			<tooltipShowProjectileDamage>false</tooltipShowProjectileDamage>
			<tooltipShowExtraDamages>false</tooltipShowExtraDamages>
			<tooltipShowHediffsToApply>false</tooltipShowHediffsToApply>
			<tooltipShowMentalStatesToApply>false</tooltipShowMentalStatesToApply>
        <hasStandardCommand>true</hasStandardCommand>
        <defaultProjectile>Projectile_ChargeBattery</defaultProjectile>
		<abilityDef>TM_ChargeBattery</abilityDef>
        <warmupTime>3</warmupTime>
        <SecondsToRecharge>5</SecondsToRecharge>
		<burstShotCount>1</burstShotCount>
        <range>12</range>
		<isViolent>false</isViolent>
        <soundCast>Power_OnSmall</soundCast>
        <muzzleFlashScale>200</muzzleFlashScale>
		<AlwaysHits>true</AlwaysHits>
         <isPrimary>false</isPrimary>
		 <targetParams>
      	 <canTargetPawns>false</canTargetPawns>
      	 <canTargetBuildings>false</canTargetBuildings>
      	 <canTargetSelf>false</canTargetSelf>
		 <canTargetLocations>true</canTargetLocations>
        </targetParams>
    </MainVerb>
 </TorannMagic.TMAbilityDef>
 
 <!-- Smoke Cloud -->	
    <ThingDef ParentName="BaseBullet" Class="AbilityUser.ProjectileDef_Ability">
		<thingClass>TorannMagic.Projectile_SmokeCloud</thingClass>
	    <defName>Projectile_SmokeCloud</defName>
        <label>smoke cloud</label>
        <graphicData>
			<texPath>Spells/smokecloud</texPath>
			<graphicClass>Graphic_Single</graphicClass>
			<shaderType>TransparentPostLight</shaderType>
        </graphicData>
        <projectile>
            <damageDef>Smoke</damageDef>
            <damageAmountBase>0</damageAmountBase>
            <speed>45</speed>
			<explosionRadius>5</explosionRadius>
			<postExplosionSpawnChance>1</postExplosionSpawnChance>
        </projectile>
    </ThingDef>

    <TorannMagic.TMAbilityDef ParentName="BaseMagicAbility">
        <defName>TM_SmokeCloud</defName>
        <label>Smoke Cloud</label>
        <uiIconPath>UI/smokecloud</uiIconPath>
        <description>Draws in and ignites water and dirt particles in the air to create a smoke screen that temporarily conceals the area.</description>
        <manaCost>0.06</manaCost>
		<MainVerb Class="AbilityUser.VerbProperties_Ability">
            <verbClass>TorannMagic.Verb_SB</verbClass>
				<tooltipShowProjectileDamage>true</tooltipShowProjectileDamage>
				<tooltipShowExtraDamages>false</tooltipShowExtraDamages>
				<tooltipShowHediffsToApply>false</tooltipShowHediffsToApply>
				<tooltipShowMentalStatesToApply>false</tooltipShowMentalStatesToApply>
            <hasStandardCommand>true</hasStandardCommand>
            <defaultProjectile>Projectile_SmokeCloud</defaultProjectile>
            <abilityDef>TM_SmokeCloud</abilityDef>
            <warmupTime>.3</warmupTime>
            <SecondsToRecharge>12</SecondsToRecharge>
            <range>45</range>
            <burstShotCount>1</burstShotCount>
			<forcedMissRadius>2</forcedMissRadius>
            <soundCast>DropPod_Leaving</soundCast>
			<soundCastTail>GunTail_Medium</soundCastTail>
            <muzzleFlashScale>4</muzzleFlashScale>
		    <AlwaysHits>false</AlwaysHits>
            <isPrimary>false</isPrimary>
			<isViolent>false</isViolent>
			<targetParams>
                <canTargetPawns>true</canTargetPawns>
                <canTargetBuildings>true</canTargetBuildings>
                <canTargetSelf>true</canTargetSelf>
                <canTargetLocations>true</canTargetLocations>
            </targetParams>
        </MainVerb>
    </TorannMagic.TMAbilityDef>

    <!-- smoke cloud end-->
	
	<!-- Extinguish -->	
    <ThingDef ParentName="BaseBullet" Class="AbilityUser.ProjectileDef_Ability">
		<thingClass>TorannMagic.Projectile_Extinguish</thingClass>
	    <defName>Projectile_Extinguish</defName>
        <label>extinguish</label>
        <graphicData>
			<texPath>Spells/extinguish</texPath>
			<graphicClass>Graphic_Single</graphicClass>
			<shaderType>TransparentPostLight</shaderType>
        </graphicData>
        <projectile>
            <damageDef>Extinguish</damageDef>
            <damageAmountBase>400</damageAmountBase>
            <speed>45</speed>
			<explosionRadius>3</explosionRadius>
			<postExplosionSpawnChance>1</postExplosionSpawnChance>
        </projectile>
    </ThingDef>

    <TorannMagic.TMAbilityDef ParentName="BaseMagicAbility">
        <defName>TM_Extinguish</defName>
        <label>Extinguish</label>
        <uiIconPath>UI/Extinguish</uiIconPath>
        <description>Removes the fire element from the target location, instantly extinguishing undesired fires.</description>
        <manaCost>0.07</manaCost>
		<MainVerb Class="AbilityUser.VerbProperties_Ability">
            <verbClass>TorannMagic.Verb_SB</verbClass>
				<tooltipShowProjectileDamage>true</tooltipShowProjectileDamage>
				<tooltipShowExtraDamages>false</tooltipShowExtraDamages>
				<tooltipShowHediffsToApply>false</tooltipShowHediffsToApply>
				<tooltipShowMentalStatesToApply>false</tooltipShowMentalStatesToApply>
            <hasStandardCommand>true</hasStandardCommand>
            <defaultProjectile>Projectile_Extinguish</defaultProjectile>
            <abilityDef>TM_Extinguish</abilityDef>
            <warmupTime>.6</warmupTime>
            <SecondsToRecharge>25</SecondsToRecharge>
            <range>35</range>
            <burstShotCount>1</burstShotCount>
			<forcedMissRadius>2</forcedMissRadius>
            <soundCast>DropPod_Leaving</soundCast>
			<soundCastTail>GunTail_Medium</soundCastTail>
            <muzzleFlashScale>4</muzzleFlashScale>
		    <AlwaysHits>false</AlwaysHits>
            <isPrimary>false</isPrimary>
			<isViolent>false</isViolent>
			<targetParams>
                <canTargetPawns>true</canTargetPawns>
                <canTargetBuildings>true</canTargetBuildings>
                <canTargetSelf>true</canTargetSelf>
                <canTargetLocations>true</canTargetLocations>
            </targetParams>
        </MainVerb>
    </TorannMagic.TMAbilityDef>

    <!-- extinguish end-->
	
		<!-- EMP -->	
    <ThingDef ParentName="BaseBullet" Class="AbilityUser.ProjectileDef_Ability">
		<thingClass>TorannMagic.Projectile_EMP</thingClass>
	    <defName>Projectile_EMP</defName>
        <label>EMP</label>
        <graphicData>
			<texPath>Spells/invis</texPath>
			<graphicClass>Graphic_Single</graphicClass>
			<shaderType>TransparentPostLight</shaderType>
        </graphicData>
        <projectile>
            <damageDef>EMP</damageDef>
            <damageAmountBase>100</damageAmountBase>
            <speed>40</speed>
			<explosionRadius>7</explosionRadius>
			<postExplosionSpawnChance>1</postExplosionSpawnChance>
        </projectile>
    </ThingDef>

    <TorannMagic.TMAbilityDef ParentName="BaseMagicAbility">
        <defName>TM_EMP</defName>
        <label>EMP</label>
        <uiIconPath>UI/EMP</uiIconPath>
        <description>Generate a burst of electromagnetic radiation at a target site, disabling mechanoids for a short period.</description>
        <manaCost>0.20</manaCost>
		<MainVerb Class="AbilityUser.VerbProperties_Ability">
            <verbClass>TorannMagic.Verb_SB</verbClass>
				<tooltipShowProjectileDamage>true</tooltipShowProjectileDamage>
				<tooltipShowExtraDamages>false</tooltipShowExtraDamages>
				<tooltipShowHediffsToApply>false</tooltipShowHediffsToApply>
				<tooltipShowMentalStatesToApply>false</tooltipShowMentalStatesToApply>
            <hasStandardCommand>true</hasStandardCommand>
            <defaultProjectile>Projectile_EMP</defaultProjectile>
            <abilityDef>TM_EMP</abilityDef>
            <warmupTime>1.3</warmupTime>
            <SecondsToRecharge>45</SecondsToRecharge>
            <range>35</range>
            <burstShotCount>1</burstShotCount>
			<forcedMissRadius>2</forcedMissRadius>
            <soundCast>DropPod_Leaving</soundCast>
			<soundCastTail>GunTail_Medium</soundCastTail>
            <muzzleFlashScale>4</muzzleFlashScale>
		    <AlwaysHits>false</AlwaysHits>
            <isPrimary>false</isPrimary>
			<isViolent>false</isViolent>
			<targetParams>
                <canTargetPawns>true</canTargetPawns>
                <canTargetBuildings>true</canTargetBuildings>
                <canTargetSelf>true</canTargetSelf>
                <canTargetLocations>true</canTargetLocations>
            </targetParams>
        </MainVerb>
    </TorannMagic.TMAbilityDef>

    <!-- emp end-->
	
			<!-- Transfer mana -->	
    <ThingDef ParentName="BaseBullet" Class="AbilityUser.ProjectileDef_Ability">
		<thingClass>TorannMagic.Projectile_TransferMana</thingClass>
	    <defName>Projectile_TransferMana</defName>
        <label>transfer mana</label>
        <graphicData>
			<texPath>Spells/invis</texPath>
			<graphicClass>Graphic_Single</graphicClass>
			<shaderType>TransparentPostLight</shaderType>
        </graphicData>
        <projectile>
            <damageDef>EMP</damageDef>
            <damageAmountBase>0</damageAmountBase>
            <speed>999</speed>
        </projectile>
    </ThingDef>

    <TorannMagic.TMAbilityDef ParentName="BaseMagicAbility">
        <defName>TM_TransferMana</defName>
        <label>Transfer Mana</label>
        <uiIconPath>UI/transfermana</uiIconPath>
        <description>Transfers magical energy from one caster to another. Recipients that are not magic users will receive significant, if random, physical augmentation for a short period. Can be harmful, even lethal, at extreme levels.</description>
        <manaCost>0.30</manaCost>
		<MainVerb Class="AbilityUser.VerbProperties_Ability">
            <verbClass>TorannMagic.Verb_BLOS</verbClass>
				<tooltipShowProjectileDamage>true</tooltipShowProjectileDamage>
				<tooltipShowExtraDamages>false</tooltipShowExtraDamages>
				<tooltipShowHediffsToApply>false</tooltipShowHediffsToApply>
				<tooltipShowMentalStatesToApply>false</tooltipShowMentalStatesToApply>
            <hasStandardCommand>true</hasStandardCommand>
            <defaultProjectile>Projectile_TransferMana</defaultProjectile>
            <abilityDef>TM_TransferMana</abilityDef>
            <warmupTime>1.3</warmupTime>
            <SecondsToRecharge>15</SecondsToRecharge>
            <range>35</range>
            <burstShotCount>1</burstShotCount>
            <soundCast>ThrowGrenade</soundCast>
			<soundCastTail>GunTail_Medium</soundCastTail>
            <muzzleFlashScale>4</muzzleFlashScale>
		    <AlwaysHits>true</AlwaysHits>
            <isPrimary>true</isPrimary>
			<isViolent>false</isViolent>
			<targetParams>
                <canTargetPawns>true</canTargetPawns>
                <canTargetBuildings>false</canTargetBuildings>
                <canTargetSelf>false</canTargetSelf>
                <canTargetLocations>false</canTargetLocations>
            </targetParams>
        </MainVerb>
    </TorannMagic.TMAbilityDef>

    <!-- transfer mana end-->
	
				<!-- siphon mana -->	
    <ThingDef ParentName="BaseBullet" Class="AbilityUser.ProjectileDef_Ability">
		<thingClass>TorannMagic.Projectile_SiphonMana</thingClass>
	    <defName>Projectile_SiphonMana</defName>
        <label>siphon mana</label>
        <graphicData>
			<texPath>Spells/invis</texPath>
			<graphicClass>Graphic_Single</graphicClass>
			<shaderType>TransparentPostLight</shaderType>
        </graphicData>
        <projectile>
            <damageDef>EMP</damageDef>
            <damageAmountBase>0</damageAmountBase>
            <speed>999</speed>
        </projectile>
    </ThingDef>

    <TorannMagic.TMAbilityDef ParentName="BaseMagicAbility">
        <defName>TM_SiphonMana</defName>
        <label>Siphon Mana</label>
        <uiIconPath>UI/siphonmana</uiIconPath>
        <description>Siphons magical energy from another caster. Recipients that are not magic users will have physical capacities drained instead. Can be lethal if too much life force is drained.</description>
        <manaCost>0.10</manaCost>
		<MainVerb Class="AbilityUser.VerbProperties_Ability">
            <verbClass>TorannMagic.Verb_BLOS</verbClass>
				<tooltipShowProjectileDamage>true</tooltipShowProjectileDamage>
				<tooltipShowExtraDamages>false</tooltipShowExtraDamages>
				<tooltipShowHediffsToApply>false</tooltipShowHediffsToApply>
				<tooltipShowMentalStatesToApply>false</tooltipShowMentalStatesToApply>
            <hasStandardCommand>true</hasStandardCommand>
            <defaultProjectile>Projectile_SiphonMana</defaultProjectile>
            <abilityDef>TM_SiphonMana</abilityDef>
            <warmupTime>1.3</warmupTime>
            <SecondsToRecharge>25</SecondsToRecharge>
            <range>40</range>
            <burstShotCount>1</burstShotCount>
            <soundCast>ThrowGrenade</soundCast>
			<soundCastTail>GunTail_Medium</soundCastTail>
            <muzzleFlashScale>4</muzzleFlashScale>
		    <AlwaysHits>true</AlwaysHits>
            <isPrimary>true</isPrimary>
			<isViolent>false</isViolent>
			<targetParams>
                <canTargetPawns>true</canTargetPawns>
                <canTargetBuildings>false</canTargetBuildings>
                <canTargetSelf>false</canTargetSelf>
                <canTargetLocations>false</canTargetLocations>
            </targetParams>
        </MainVerb>
    </TorannMagic.TMAbilityDef>

    <!-- siphon mana end-->
	
	<!-- mana shield -->	

    <TorannMagic.TMAbilityDef ParentName="BaseMagicAbility">
        <defName>TM_ManaShield</defName>
        <label>Mana Shield</label>
        <uiIconPath>UI/manashield</uiIconPath>
        <description>Summons a protective barrier that draws power from the casters mana. Damage absorption rate is 1dmg to 1% mana. The barrier breaks when the caster has insufficient mana to absorb an attack.  

Casting the spell when a barrier is active will remove the barrier. Can be used in conjunction with shield belts. Does not impede spell casting of any type.</description>
        <manaCost>0.005</manaCost>
		<MainVerb Class="AbilityUser.VerbProperties_Ability">
            <verbClass>TorannMagic.Verb_ManaShield</verbClass>
				<tooltipShowProjectileDamage>false</tooltipShowProjectileDamage>
				<tooltipShowExtraDamages>false</tooltipShowExtraDamages>
				<tooltipShowHediffsToApply>false</tooltipShowHediffsToApply>
				<tooltipShowMentalStatesToApply>false</tooltipShowMentalStatesToApply>
            <hasStandardCommand>true</hasStandardCommand>
            <defaultProjectile>Projectile_TM_SpawnThing</defaultProjectile>
            <abilityDef>TM_ManaShield</abilityDef>
            <warmupTime>2</warmupTime>
            <SecondsToRecharge>10</SecondsToRecharge>
            <range>0</range>
            <burstShotCount>1</burstShotCount>
            <soundCast>ThrowGrenade</soundCast>
			<soundCastTail>GunTail_Medium</soundCastTail>
            <muzzleFlashScale>4</muzzleFlashScale>
			<AbilityTargetCategory>TargetSelf</AbilityTargetCategory>
		    <AlwaysHits>true</AlwaysHits>
            <isPrimary>true</isPrimary>
			<isViolent>false</isViolent>
			<targetParams>
                <canTargetPawns>true</canTargetPawns>
                <canTargetBuildings>false</canTargetBuildings>
                <canTargetSelf>true</canTargetSelf>
                <canTargetLocations>false</canTargetLocations>
            </targetParams>
        </MainVerb>
    </TorannMagic.TMAbilityDef>

    <!-- mana shield end-->
	
	<!-- summoned wall -->
	
 <TorannMagic.TMAbilityDef ParentName="BaseMagicAbility">
    <defName>TM_ArcaneBarrier</defName>
    <label>Arcane Barrier</label>
    <uiIconPath>UI/arcanebarrier</uiIconPath>
    <description>Creates an arcane barrier at the target location that is horizontal to the caster. The barrier lasts 60 seconds.</description>
    <manaCost>0.0</manaCost>
	<MainVerb Class="AbilityUser.VerbProperties_Ability">
        <verbClass>TorannMagic.Weapon.Verb_ArcaneBarrier</verbClass>
			<tooltipShowProjectileDamage>false</tooltipShowProjectileDamage>
			<tooltipShowExtraDamages>false</tooltipShowExtraDamages>
			<tooltipShowHediffsToApply>false</tooltipShowHediffsToApply>
			<tooltipShowMentalStatesToApply>false</tooltipShowMentalStatesToApply>
        <hasStandardCommand>true</hasStandardCommand>
        <defaultProjectile>Projectile_TM_SpawnThing</defaultProjectile>
		<abilityDef>TM_ArcaneBarrier</abilityDef>
        <warmupTime>3</warmupTime>
        <SecondsToRecharge>80</SecondsToRecharge>
		<burstShotCount>1</burstShotCount>
        <range>50</range>
		<isViolent>false</isViolent>
        <soundCast>ThrowGrenade</soundCast>
        <muzzleFlashScale>20</muzzleFlashScale>
		<AlwaysHits>true</AlwaysHits>
         <isPrimary>false</isPrimary>
		 <targetParams>
      	 <canTargetPawns>false</canTargetPawns>
      	 <canTargetBuildings>false</canTargetBuildings>
      	 <canTargetSelf>false</canTargetSelf>
		 <canTargetLocations>true</canTargetLocations>
        </targetParams>		
    </MainVerb>
 </TorannMagic.TMAbilityDef>
 
   	    <!-- Flight -->
		
	<ThingDef ParentName="BaseBullet" Name="FlyingObject_Flight">
	   <defName>FlyingObject_Flight</defName>
	   <thingClass>TorannMagic.FlyingObject_Flight</thingClass>
	   <label>flying object</label>
	   <graphicData>
			<texPath>Spells/invis</texPath>
			<graphicClass>Graphic_Single</graphicClass>
		</graphicData>
	   <projectile>
			<flyOverhead>true</flyOverhead>
			<damageDef>Stun</damageDef>
			<damageAmountBase>0</damageAmountBase>
			<speed>250</speed>
	   </projectile>
	</ThingDef>
			
	<ThingDef ParentName="BaseBullet" Class="AbilityUser.ProjectileDef_Ability">
        <thingClass>AbilityUser.Projectile_Ability</thingClass>
		<defName>Projectile_Flight</defName>
        <label>flight</label>
        <graphicData>
			<texPath>Spells/invis</texPath>
			<graphicClass>Graphic_Single</graphicClass>
			<shaderType>TransparentPostLight</shaderType>
        </graphicData>
        <projectile>
            <flyOverhead>true</flyOverhead>
            <damageDef>TM_Holy</damageDef>
            <damageAmountBase>0</damageAmountBase>
            <speed>70</speed>
        </projectile>
    </ThingDef>

 <TorannMagic.TMAbilityDef ParentName="BaseMagicAbility">
        <defName>TM_Flight</defName>
        <label>Flight</label>
        <uiIconPath>UI/wraithflight</uiIconPath>
        <description>Quickly fly to a target location.</description>
        <manaCost>0.10</manaCost>
		<MainVerb Class="AbilityUser.VerbProperties_Ability">
            <verbClass>TorannMagic.Effect_Flight</verbClass>
            <hasStandardCommand>true</hasStandardCommand>
            <defaultProjectile>Projectile_Flight</defaultProjectile>
            <abilityDef>TM_Flight</abilityDef>
            <AbilityTargetCategory>TargetLocation</AbilityTargetCategory>
            <targetParams>
                <canTargetPawns>false</canTargetPawns>
                <canTargetBuildings>false</canTargetBuildings>
                <canTargetSelf>false</canTargetSelf>
                <canTargetLocations>true</canTargetLocations>
            </targetParams>
            <warmupTime>0.5</warmupTime>
            <SecondsToRecharge>180.0</SecondsToRecharge>
            <range>120</range>
			<isViolent>false</isViolent>
            <burstShotCount>1</burstShotCount>
            <ticksBetweenBurstShots>1</ticksBetweenBurstShots>
            <soundCast>TM_AirWoosh</soundCast>
            <muzzleFlashScale>0</muzzleFlashScale>
            <isPrimary>false</isPrimary>
        </MainVerb>
    </TorannMagic.TMAbilityDef>
	
	<!-- Fertile land -->	
	
	<ThingDef ParentName="BaseBullet" Class="AbilityUser.ProjectileDef_Ability">
        <thingClass>TorannMagic.Projectile_FertileLands</thingClass>
		<defName>Projectile_FertileLands</defName>
        <label>fertile lands</label>
        <graphicData>
			<texPath>Spells/invis</texPath>
			<graphicClass>Graphic_Single</graphicClass>
			<shaderType>TransparentPostLight</shaderType>
        </graphicData>
        <projectile>
            <flyOverhead>true</flyOverhead>
            <damageDef>TM_Holy</damageDef>
            <damageAmountBase>0</damageAmountBase>
            <speed>999</speed>
			<explosionRadius>6</explosionRadius>
			<postExplosionSpawnChance>1</postExplosionSpawnChance>
        </projectile>
    </ThingDef>

    <TorannMagic.TMAbilityDef ParentName="BaseMagicAbility">
        <defName>TM_FertileLands</defName>
        <label>Fertile Lands</label>
        <uiIconPath>UI/blessland</uiIconPath>
        <description>Infuses an area of land with power from the druid that increases its fertility. This ability must be maintained and reduces mana regeneration by 40%. The druid is limited to one area.</description>
        <manaCost>0.10</manaCost>
		<MainVerb Class="AbilityUser.VerbProperties_Ability">
            <verbClass>TorannMagic.Verb_SB</verbClass>
				<tooltipShowProjectileDamage>false</tooltipShowProjectileDamage>
				<tooltipShowExtraDamages>false</tooltipShowExtraDamages>
				<tooltipShowHediffsToApply>false</tooltipShowHediffsToApply>
				<tooltipShowMentalStatesToApply>false</tooltipShowMentalStatesToApply>
            <hasStandardCommand>true</hasStandardCommand>
            <defaultProjectile>Projectile_FertileLands</defaultProjectile>
            <abilityDef>TM_FertileLands</abilityDef>
            <warmupTime>2</warmupTime>
            <SecondsToRecharge>10</SecondsToRecharge>
            <range>40</range>
            <burstShotCount>1</burstShotCount>
            <soundCast>TM_VibrationLow</soundCast>
			<soundCastTail>GunTail_Medium</soundCastTail>
            <muzzleFlashScale>4</muzzleFlashScale>
			<AbilityTargetCategory>TargetLocation</AbilityTargetCategory>
		    <AlwaysHits>true</AlwaysHits>
            <isPrimary>true</isPrimary>
			<isViolent>false</isViolent>
			<targetParams>
                <canTargetPawns>false</canTargetPawns>
                <canTargetBuildings>false</canTargetBuildings>
                <canTargetSelf>false</canTargetSelf>
                <canTargetLocations>true</canTargetLocations>
            </targetParams>
        </MainVerb>
    </TorannMagic.TMAbilityDef>
	
	<TorannMagic.TMAbilityDef ParentName="BaseMagicAbility">
        <defName>TM_DismissFertileLands</defName>
        <label>End Fertile Lands</label>
        <uiIconPath>UI/blesslandx</uiIconPath>
        <description>Releases the druid's power infusing the land with fertility.</description>
        <manaCost>0.0</manaCost>
		<MainVerb Class="AbilityUser.VerbProperties_Ability">
            <verbClass>TorannMagic.Verb_DismissFertileLands</verbClass>
				<tooltipShowProjectileDamage>false</tooltipShowProjectileDamage>
				<tooltipShowExtraDamages>false</tooltipShowExtraDamages>
				<tooltipShowHediffsToApply>false</tooltipShowHediffsToApply>
				<tooltipShowMentalStatesToApply>false</tooltipShowMentalStatesToApply>
            <hasStandardCommand>true</hasStandardCommand>
            <defaultProjectile>Projectile_TM_SpawnThing</defaultProjectile>
            <abilityDef>TM_DismissFertileLands</abilityDef>
            <warmupTime>2</warmupTime>
            <SecondsToRecharge>10</SecondsToRecharge>
            <range>0</range>
            <burstShotCount>1</burstShotCount>
            <soundCast>TM_VibrationLow</soundCast>
			<soundCastTail>GunTail_Medium</soundCastTail>
            <muzzleFlashScale>4</muzzleFlashScale>
			<AbilityTargetCategory>TargetSelf</AbilityTargetCategory>
		    <AlwaysHits>true</AlwaysHits>
            <isPrimary>true</isPrimary>
			<isViolent>false</isViolent>
			<targetParams>
                <canTargetPawns>true</canTargetPawns>
                <canTargetBuildings>false</canTargetBuildings>
                <canTargetSelf>true</canTargetSelf>
                <canTargetLocations>false</canTargetLocations>
            </targetParams>
        </MainVerb>
    </TorannMagic.TMAbilityDef>
	
	<!-- Spell Mending -->	

    <TorannMagic.TMAbilityDef ParentName="BaseMagicAbility">
        <defName>TM_SpellMending</defName>
        <label>Spell Mending</label>
        <uiIconPath>UI/spellmending</uiIconPath>
        <description>Cast an enchantment upon a person that slowly reconstructs their equipment at a molecular level. Spell mending requires a the equipment to be worn in order to extract 'memories' from the wearer to perform the reconstruction. This places a physical strain on the affected pawn and will slow their physical activities. Spell mending dissipates after several hours.</description>
        <manaCost>0.50</manaCost>
		<MainVerb Class="AbilityUser.VerbProperties_Ability">
            <verbClass>TorannMagic.Verb_SpellMending</verbClass>
				<tooltipShowProjectileDamage>false</tooltipShowProjectileDamage>
				<tooltipShowExtraDamages>false</tooltipShowExtraDamages>
				<tooltipShowHediffsToApply>false</tooltipShowHediffsToApply>
				<tooltipShowMentalStatesToApply>false</tooltipShowMentalStatesToApply>
            <hasStandardCommand>true</hasStandardCommand>
            <defaultProjectile>Projectile_TM_SpawnThing</defaultProjectile>
            <abilityDef>TM_SpellMending</abilityDef>
            <warmupTime>2</warmupTime>
            <SecondsToRecharge>300</SecondsToRecharge>
            <range>40</range>
            <burstShotCount>1</burstShotCount>
            <soundCast>TM_Vibration</soundCast>
			<soundCastTail>GunTail_Medium</soundCastTail>
            <muzzleFlashScale>4</muzzleFlashScale>
			<AbilityTargetCategory>TargetThing</AbilityTargetCategory>
		    <AlwaysHits>true</AlwaysHits>
            <isPrimary>true</isPrimary>
			<isViolent>false</isViolent>
			<targetParams>
                <canTargetPawns>true</canTargetPawns>
                <canTargetBuildings>false</canTargetBuildings>
                <canTargetSelf>true</canTargetSelf>
                <canTargetLocations>false</canTargetLocations>
            </targetParams>
        </MainVerb>
    </TorannMagic.TMAbilityDef>
	
		<!-- Cauterize Wound -->	

    <TorannMagic.TMAbilityDef ParentName="BaseMagicAbility">
        <defName>TM_CauterizeWound</defName>
        <label>Cauterize Wounds</label>
        <uiIconPath>UI/cauterizewound</uiIconPath>
        <description>The fire mage invokes elemental fire to instantly cauterize wounds on a patient. However, this process is likely to leave burn scars.</description>
        <manaCost>0.15</manaCost>
		<MainVerb Class="AbilityUser.VerbProperties_Ability">
            <verbClass>TorannMagic.Verb_CauterizeWound</verbClass>
				<tooltipShowProjectileDamage>false</tooltipShowProjectileDamage>
				<tooltipShowExtraDamages>false</tooltipShowExtraDamages>
				<tooltipShowHediffsToApply>false</tooltipShowHediffsToApply>
				<tooltipShowMentalStatesToApply>false</tooltipShowMentalStatesToApply>
            <hasStandardCommand>true</hasStandardCommand>
            <defaultProjectile>Projectile_TM_SpawnThing</defaultProjectile>
            <abilityDef>TM_CauterizeWound</abilityDef>
            <warmupTime>2</warmupTime>
            <SecondsToRecharge>60</SecondsToRecharge>
            <range>20</range>
            <burstShotCount>1</burstShotCount>
            <soundCast>TM_Vibration</soundCast>
			<soundCastTail>GunTail_Medium</soundCastTail>
            <muzzleFlashScale>4</muzzleFlashScale>
			<AbilityTargetCategory>TargetThing</AbilityTargetCategory>
		    <AlwaysHits>true</AlwaysHits>
            <isPrimary>true</isPrimary>
			<isViolent>false</isViolent>
			<targetParams>
                <canTargetPawns>true</canTargetPawns>
                <canTargetBuildings>false</canTargetBuildings>
                <canTargetSelf>true</canTargetSelf>
                <canTargetLocations>false</canTargetLocations>
            </targetParams>
        </MainVerb>
    </TorannMagic.TMAbilityDef>
	
	<!-- Teach Magic & Might -->	

    <TorannMagic.TMAbilityDef ParentName="BaseMagicAbility">
        <defName>TM_TeachMagic</defName>
        <label>Mentor Magic</label>
        <uiIconPath>UI/teachbook</uiIconPath>
        <description>Mentor a mage of lesser level to increase their magic skill. 
		
Mentored mages will gain class XP.  The amount of XP gained depends on the social status and difference in levels between the two mages.</description>
        <manaCost>0.25</manaCost>
		<MainVerb Class="AbilityUser.VerbProperties_Ability">
            <verbClass>TorannMagic.Verb_Teach</verbClass>
				<tooltipShowProjectileDamage>false</tooltipShowProjectileDamage>
				<tooltipShowExtraDamages>false</tooltipShowExtraDamages>
				<tooltipShowHediffsToApply>false</tooltipShowHediffsToApply>
				<tooltipShowMentalStatesToApply>false</tooltipShowMentalStatesToApply>
            <hasStandardCommand>true</hasStandardCommand>
            <defaultProjectile>Projectile_TM_SpawnThing</defaultProjectile>
            <abilityDef>TM_TeachMagic</abilityDef>
            <warmupTime>0</warmupTime>
            <SecondsToRecharge>1200</SecondsToRecharge>
            <range>50</range>
            <burstShotCount>1</burstShotCount>
            <soundCast>Message_PositiveEvent</soundCast>
            <muzzleFlashScale>1</muzzleFlashScale>
		    <AlwaysHits>true</AlwaysHits>
            <isPrimary>true</isPrimary>
			<isViolent>false</isViolent>
			<targetParams>
                <canTargetPawns>true</canTargetPawns>
                <canTargetBuildings>false</canTargetBuildings>
                <canTargetSelf>false</canTargetSelf>
                <canTargetLocations>false</canTargetLocations>
            </targetParams>
        </MainVerb>
    </TorannMagic.TMAbilityDef>
	
  <TorannMagic.TMAbilityDef ParentName="BaseMightAbility">
    <defName>TM_TeachMight</defName>
    <label>Combat Training</label>
    <uiIconPath>UI/teachbook</uiIconPath>
    <description>Train a fighter of lesser level to increase their combat skill. 
		
Trained fighters will gain class XP.  The amount of XP gained depends on the social status and difference in levels between the two fighters.</description>
    <staminaCost>0.25</staminaCost>
    <MainVerb Class="AbilityUser.VerbProperties_Ability">
        <verbClass>TorannMagic.Verb_Teach</verbClass>
			<tooltipShowProjectileDamage>false</tooltipShowProjectileDamage>
			<tooltipShowExtraDamages>false</tooltipShowExtraDamages>
			<tooltipShowHediffsToApply>false</tooltipShowHediffsToApply>
			<tooltipShowMentalStatesToApply>false</tooltipShowMentalStatesToApply>
        <hasStandardCommand>true</hasStandardCommand>
		<abilityDef>TM_TeachMight</abilityDef>
		<isViolent>false</isViolent>
        <defaultProjectile>Projectile_Sustained</defaultProjectile>
        <warmupTime>0</warmupTime>
        <SecondsToRecharge>1200</SecondsToRecharge>
        <range>50</range>
        <soundCast>Message_PositiveEvent</soundCast>
        <muzzleFlashScale>1</muzzleFlashScale>
        <isPrimary>true</isPrimary>
		<AlwaysHits>true</AlwaysHits>
		<targetParams>
		  <canTargetPawns>true</canTargetPawns>
		  <canTargetBuildings>false</canTargetBuildings>
		  <canTargetSelf>false</canTargetSelf>
		  <canTargetLocations>false</canTargetLocations>
		</targetParams>
    </MainVerb>
  </TorannMagic.TMAbilityDef>

</Defs>